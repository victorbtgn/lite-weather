(this.webpackJsonpweather_app=this.webpackJsonpweather_app||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),o=n.n(c),l=n(18),i=n.n(l),s=n(3),u=n(20),f=function(){return localStorage.getItem("favorites")?JSON.parse(localStorage.getItem("favorites")):null},b=function(e){var t=JSON.parse(localStorage.getItem("favorites")).filter((function(t){return t!==e}));localStorage.setItem("favorites",JSON.stringify(t))},j=function(){return localStorage.getItem("lastCity")},m=n(7);n(29);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function h(e,t){var n=e.title,o=e.titleId,l=p(e,["title","titleId"]);return c.createElement("svg",O({viewBox:"0 0 24 24",ref:t,"aria-labelledby":o},l),n?c.createElement("title",{id:o},n):null,r||(r=c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),a||(a=c.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})))}var v,d,g=c.forwardRef(h);n.p;function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function x(e,t){var n=e.title,r=e.titleId,a=S(e,["title","titleId"]);return c.createElement("svg",y({viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},a),n?c.createElement("title",{id:r},n):null,v||(v=c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),d||(d=c.createElement("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"})))}var I,N,w,E=c.forwardRef(x);n.p;function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function k(e,t){var n=e.title,r=e.titleId,a=L(e,["title","titleId"]);return c.createElement("svg",B({viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},a),n?c.createElement("title",{id:r},n):null,I||(I=c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),N||(N=c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),w||(w=c.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})))}var F=c.forwardRef(k),_=(n.p,n(30),n(31),n(1));function z(e){var t=e.city,n=e.changeFavorite,r=e.onRemoveFavoriteItem;return Object(_.jsxs)("div",{className:"FavoriteItem",children:[Object(_.jsx)("button",{type:"button",onClick:function(){r(t)},className:"FavoriteItem-btn_icon",children:Object(_.jsx)(F,{className:"FavoriteItem-svg"})}),Object(_.jsx)("button",{type:"button",onClick:function(){n(t)},className:"FavoriteItem-btn_name",children:t})]})}function C(e){var t=e.formSubmit,n=Object(c.useState)(""),r=Object(s.a)(n,2),a=r[0],o=r[1],l=Object(c.useState)(""),i=Object(s.a)(l,2),j=i[0],O=i[1],p=Object(c.useState)([]),h=Object(s.a)(p,2),v=h[0],d=h[1],y=Object(c.useState)(!1),S=Object(s.a)(y,2),x=S[0],I=S[1];Object(c.useEffect)((function(){var e=f();e&&d(e)}),[]),Object(c.useEffect)((function(){v.length>0&&v.forEach((function(e){e===a&&I(!0),e!==a&&I(!1)}))}),[a,v]);var N=function(e){b(e);var t=f();d(t)};return Object(_.jsxs)("section",{className:"SearchBar",children:[Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a),O(a)},className:"SearchBar-form",children:[x?Object(_.jsx)("button",{type:"button",onClick:function(){b(a);var e=f();I(!1),d(e)},className:"SearchBar-form_btn",children:Object(_.jsx)(F,{className:"SearchBar-form_svg"})}):Object(_.jsx)("button",{type:"button",onClick:function(){!function(e){var t=[];if(localStorage.getItem("favorites")){var n=JSON.parse(localStorage.getItem("favorites"));return t.push(e),void localStorage.setItem("favorites",JSON.stringify([].concat(Object(u.a)(n),t)))}t.push(e),localStorage.setItem("favorites",JSON.stringify(t))}(j);var e=f();d(e)},className:"SearchBar-form_btn",children:Object(_.jsx)(E,{className:"SearchBar-form_svg"})}),Object(_.jsx)("input",{type:"text",name:"city",value:a,autoComplete:"off",placeholder:"\u042f\u043a\u0435 \u043c\u0456\u0441\u0442\u043e \u0448\u0443\u043a\u0430\u0454\u043c?",onInput:function(e){o(e.target.value)},className:"SearchBar-form_input"}),Object(_.jsx)("button",{type:"submit",className:"SearchBar-form_btn",children:Object(_.jsx)(g,{className:"SearchBar-form_svg"})})]}),Object(_.jsx)(m.Splide,{className:"SearchBar-favorite",options:{autoWidth:!0,arrows:!1,pagination:!1},children:v.length>0&&v.map((function(e){return Object(_.jsx)(m.SplideSlide,{children:Object(_.jsx)(z,{city:e,changeFavorite:t,onRemoveFavoriteItem:N})},e)}))})]})}var M=n(8),P=n.n(M);P.a.defaults.baseURL="https://api.openweathermap.org/data/2.5/";var J=n(19),R=n.n(J);n(51);function W(e){var t=e.message;return Object(_.jsx)("span",{className:"ErrorComp",children:t})}n(52);function H(e){var t=e.city,n=e.lang,r=Object(c.useState)(null),a=Object(s.a)(r,2),o=a[0],l=a[1],i=Object(c.useState)(null),u=Object(s.a)(i,2),f=u[0],b=u[1],j=Object(c.useState)(""),m=Object(s.a)(j,2),O=m[0],p=m[1];return Object(c.useEffect)((function(){(function(e,t){return P.a.get("weather?q=".concat(e,"&units=metric&lang=").concat(t,"&appid=").concat("6fe8d47b7a8e47dbc17924bacdb151e9")).then((function(e){return e.data})).catch((function(e){return e.response.data}))})(t,n).then((function(e){if("city not found"===(null===e||void 0===e?void 0:e.message))return b(e);b(null),p((new Date).toLocaleDateString("ua",{year:"numeric",month:"long",day:"numeric",weekday:"long"})),l(e),function(e){localStorage.setItem("lastCity",e)}(t)})).catch((function(e){b(e)}))}),[t,n]),Object(_.jsxs)("section",{className:"TodayWeather",children:[f&&Object(_.jsx)(W,{message:"\u041c\u0456\u0441\u0442\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043d\u0430\u0437\u0432\u0430\u043b\u0438?"}),o?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h2",{className:"TodayWeather-city",children:o.name}),Object(_.jsx)("p",{className:"TodayWeather-date",children:O}),Object(_.jsxs)("p",{className:"TodayWeather-temperature",children:[o.main.temp,"\u2103"]})]}):Object(_.jsx)("div",{className:"Loader",children:Object(_.jsx)(R.a,{color:"#cccaca",size:150})})]})}n(59);function T(){var e=Object(c.useState)("kyiv"),t=Object(s.a)(e,2),n=t[0],r=t[1];Object(c.useEffect)((function(){j()&&r(j())}),[]);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(C,{formSubmit:function(e){r(e)}}),Object(_.jsx)(H,{city:n,lang:"ua"})]})}function D(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(T,{})})}n(60),n(61);i.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsx)(D,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.2f0db6e5.chunk.js.map