(this.webpackJsonpweather_app=this.webpackJsonpweather_app||[]).push([[0],{30:function(e,t,r){},31:function(e,t,r){},51:function(e,t,r){},52:function(e,t,r){},59:function(e,t,r){},61:function(e,t,r){},62:function(e,t,r){"use strict";r.r(t);var n,a,c=r(0),o=r.n(c),i=r(18),l=r.n(i),s=r(3),u=r(20),f=function(){return localStorage.getItem("favorites")?JSON.parse(localStorage.getItem("favorites")):null},b=function(e){var t=JSON.parse(localStorage.getItem("favorites")).filter((function(t){return t!==e}));localStorage.setItem("favorites",JSON.stringify(t))},j=function(){return localStorage.getItem("lastCity")},d=r(7);r(29);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O(e,t){var r=e.title,o=e.titleId,i=m(e,["title","titleId"]);return c.createElement("svg",p({viewBox:"0 0 24 24",ref:t,"aria-labelledby":o},i),r?c.createElement("title",{id:o},r):null,n||(n=c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),a||(a=c.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})))}var h,v,y=c.forwardRef(O);r.p;function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function S(e,t){var r=e.title,n=e.titleId,a=x(e,["title","titleId"]);return c.createElement("svg",g({viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,h||(h=c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),v||(v=c.createElement("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"})))}var w,N,I,E=c.forwardRef(S);r.p;function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function k(e,t){var r=e.title,n=e.titleId,a=L(e,["title","titleId"]);return c.createElement("svg",B({viewBox:"0 0 24 24",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,w||(w=c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),N||(N=c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),I||(I=c.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})))}var P=c.forwardRef(k),T=(r.p,r(30),r(31),r(1));function W(e){var t=e.city,r=e.changeFavorite,n=e.onRemoveFavoriteItem;return Object(T.jsxs)("div",{className:"FavoriteItem",children:[Object(T.jsx)("button",{type:"button",onClick:function(){n(t)},className:"FavoriteItem-btn_icon",children:Object(T.jsx)(P,{className:"FavoriteItem-svg"})}),Object(T.jsx)("button",{type:"button",onClick:function(){r(t)},className:"FavoriteItem-btn_name",children:t})]})}function M(e){var t=e.formSubmit,r=Object(c.useState)(""),n=Object(s.a)(r,2),a=n[0],o=n[1],i=Object(c.useState)(""),l=Object(s.a)(i,2),j=l[0],p=l[1],m=Object(c.useState)([]),O=Object(s.a)(m,2),h=O[0],v=O[1],g=Object(c.useState)(!1),x=Object(s.a)(g,2),S=x[0],w=x[1];Object(c.useEffect)((function(){var e=f();e&&v(e)}),[]),Object(c.useEffect)((function(){h.length>0&&h.forEach((function(e){e===a&&w(!0),e!==a&&w(!1)}))}),[a,h]);var N=function(e){b(e);var t=f();v(t)};return Object(T.jsxs)("section",{className:"SearchBar",children:[Object(T.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a),p(a)},className:"SearchBar-form",children:[S?Object(T.jsx)("button",{type:"button",onClick:function(){b(a);var e=f();w(!1),v(e)},className:"SearchBar-form_btn",children:Object(T.jsx)(P,{className:"SearchBar-form_svg"})}):Object(T.jsx)("button",{type:"button",onClick:function(){!function(e){var t=[];if(localStorage.getItem("favorites")){var r=JSON.parse(localStorage.getItem("favorites"));return t.push(e),void localStorage.setItem("favorites",JSON.stringify([].concat(Object(u.a)(r),t)))}t.push(e),localStorage.setItem("favorites",JSON.stringify(t))}(j);var e=f();v(e)},className:"SearchBar-form_btn",children:Object(T.jsx)(E,{className:"SearchBar-form_svg"})}),Object(T.jsx)("input",{type:"text",name:"city",value:a,autoComplete:"off",placeholder:"\u042f\u043a\u0435 \u043c\u0456\u0441\u0442\u043e \u0448\u0443\u043a\u0430\u0454\u043c?",onInput:function(e){o(e.target.value)},className:"SearchBar-form_input"}),Object(T.jsx)("button",{type:"submit",className:"SearchBar-form_btn",children:Object(T.jsx)(y,{className:"SearchBar-form_svg"})})]}),Object(T.jsx)(d.Splide,{className:"SearchBar-favorite",options:{autoWidth:!0,arrows:!1,pagination:!1},children:h.length>0&&h.map((function(e){return Object(T.jsx)(d.SplideSlide,{children:Object(T.jsx)(W,{city:e,changeFavorite:t,onRemoveFavoriteItem:N})},e)}))})]})}var _=r(8),z=r.n(_);z.a.defaults.baseURL="https://api.openweathermap.org/data/2.5/";var F,C=function(e){var t=new Date(1e3*e).toTimeString().split(" ")[0].split(":");return"".concat(t[0],":").concat(t[1])},J=r(19),R=r.n(J);r(51);function H(e){var t=e.message;return Object(T.jsx)("span",{className:"ErrorComp",children:t})}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function q(e,t){var r=e.title,n=e.titleId,a=V(e,["title","titleId"]);return c.createElement("svg",D({viewBox:"0 0 20 16",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,F||(F=c.createElement("path",{d:"M5,9l1.41,1.41L11,5.83V22H13V5.83l4.59,4.59L19,9l-7-7L5,9z"})))}var U=c.forwardRef(q);r.p,r(52);function A(e){var t,r=e.city,n=e.lang,a=Object(c.useState)(null),o=Object(s.a)(a,2),i=o[0],l=o[1],u=Object(c.useState)(null),f=Object(s.a)(u,2),b=f[0],j=f[1],d=Object(c.useState)(""),p=Object(s.a)(d,2),m=p[0],O=p[1];return Object(c.useEffect)((function(){(function(e,t){return z.a.get("weather?q=".concat(e,"&units=metric&lang=").concat(t,"&appid=").concat("6fe8d47b7a8e47dbc17924bacdb151e9")).then((function(e){return e.data})).catch((function(e){return e.response.data}))})(r,n).then((function(e){if("city not found"===(null===e||void 0===e?void 0:e.message))return j(e);j(null),O((new Date).toLocaleDateString("ua",{year:"numeric",month:"long",day:"numeric",weekday:"long"})),l(e),function(e){localStorage.setItem("lastCity",e)}(r)})).catch((function(e){j(e)}))}),[r,n]),Object(T.jsxs)("section",{className:"TodayWeather",children:[b&&Object(T.jsx)(H,{message:"\u041c\u0456\u0441\u0442\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043d\u0430\u0437\u0432\u0430\u043b\u0438?"}),i?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h2",{className:"TodayWeather-city",children:i.name}),Object(T.jsx)("p",{className:"TodayWeather-description",children:m}),Object(T.jsxs)("p",{className:"TodayWeather-temperature",children:[i.main.temp,"\u2103"]}),Object(T.jsxs)("p",{className:"TodayWeather-description",children:["\u0412\u0456\u0434\u0447\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f \u044f\u043a ",Math.round(i.main.feels_like),"\xb0"]}),Object(T.jsx)("p",{className:"TodayWeather-description borderBottom",children:i.weather[0].description}),Object(T.jsxs)("p",{className:"TodayWeather-description",children:["\u0422\u0438\u0441\u043a ",i.main.pressure,"hPa"]}),Object(T.jsxs)("p",{className:"TodayWeather-description",children:["\u0412\u043e\u043b\u043e\u0433\u0456\u0441\u0442\u044c ",i.main.humidity,"%"]}),Object(T.jsxs)("p",{className:"TodayWeather-description",children:["\u0412\u0456\u0442\u0435\u0440 ",i.wind.speed,"\u043c/\u0441 ",Object(T.jsx)(U,{className:"TodayWeather-svg",style:{transform:"rotate(".concat(i.wind.deg,"deg)")}})," ",(t=i.wind.deg,["\u041f\u043d","\u041f\u043d-\u0421\u0445","\u0421\u0445","\u041f\u0434-\u0421\u0445","\u041f\u0434","\u041f\u0434-\u0417\u0445","\u0417\u0445","\u041f\u043d-\u0417\u0445"][Math.round(t/45)])]}),Object(T.jsxs)("span",{className:"TodayWeather-description",children:["\u0441\u0445\u0456\u0434 ",C(i.sys.sunrise)]}),"\xa0\xa0\xa0",Object(T.jsxs)("span",{className:"TodayWeather-description",children:["\u0437\u0430\u0445\u0456\u0434 ",C(i.sys.sunset)]})]}):Object(T.jsx)("div",{className:"Loader",children:Object(T.jsx)(R.a,{color:"#cccaca",size:150})})]})}r(59);function G(){var e=Object(c.useState)("kyiv"),t=Object(s.a)(e,2),r=t[0],n=t[1];Object(c.useEffect)((function(){j()&&n(j())}),[]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(M,{formSubmit:function(e){n(e)}}),Object(T.jsx)(A,{city:r,lang:"ua"})]})}function K(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(G,{})})}r(60),r(61);l.a.render(Object(T.jsx)(o.a.StrictMode,{children:Object(T.jsx)(K,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.1cfd66aa.chunk.js.map